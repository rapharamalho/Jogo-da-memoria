<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo da Memoria</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
</head>
</head>

<body>
    <div class="container">
        <div class="box" data-value="1">
            <img src="img/messicareca.jpg" alt="messicareca">
        </div>

        <div class="box" data-value="1">
            <img src="img/messicareca.jpg" alt="messicareca">
        </div>

        <div class="box" data-value="2">
            <img src="img/yurialbertocraque.jpg" alt="yurialbertocraque">
        </div>

        <div class="box" data-value="2">
            <img src="img/yurialbertocraque.jpg" alt="yurialbertocraque">
        </div>

        <div class="box" data-value="3">
            <img src="img/cr7careca.jpg" alt="cr7careca">
        </div>

        <div class="box" data-value="3">
            <img src="img/cr7careca.jpg" alt="cr7careca">
        </div>

        <div class="box" data-value="4">
            <img src="img/neycareca.jpg" alt="neycareca">
        </div>

        <div class="box" data-value="4">
            <img src="img/neycareca.jpg" alt="neycareca">
        </div>

        <div class="box" data-value="5">
            <img src="img/bobbyandendrick.jpg" alt="bobbyandendrick">
        </div>

        <div class="box" data-value="5">
            <img src="img/bobbyandendrick.jpg" alt="bobby and endrick">
        </div>

        <div class="box" data-value="6">
            <img src="img/yamalcorno.jpg" alt="yamalcorno">
        </div>

        <div class="box" data-value="6">
            <img src="img/yamalcorno.jpg" alt="yamalcorno">
        </div>


        <div class="box" data-value="7">
            <img src="img/rogercalveludo.jpg" alt="calveludo">
        </div>


        <div class="box" data-value="7">
            <img src="img/rogercalveludo.jpg" alt="calveludo">
        </div>


        <div class="box" data-value="8">
            <img src="img/felipemeloeseubff.jpg" alt="felipemeloeseubff">
        </div>


        <div class="box" data-value="8">
            <img src="img/felipemeloeseubff.jpg" alt="felipemeloeseubff">
        </div>

        <div class="box" data-value="9">
            <img src="img/santosserieB.jpg" alt="serieB">
        </div>

        <div class="box" data-value="9">
            <img src="img/santosserieB.jpg" alt="serieB">
        </div>

        <div class="box" data-value="10">
            <img src="img/lindatabela.jpg" alt="linda tabela">
        </div>

        <div class="box" data-value="10">
            <img src="img/lindatabela.jpg" alt="linda tabela">
        </div>

        <div class="box" data-value="11">
            <img src="img/pirocaquente.jpg" alt="cabeça fria">
        </div>

        <div class="box" data-value="11">
            <img src="img/pirocaquente.jpg" alt="cabeça fria">
        </div>

        <div class="box" data-value="12">
            <img src="img/pelezinho.jpg" alt="pelezinho">
        </div>

        <div class="box" data-value="12">
            <img src="img/pelezinho.jpg" alt="pelezinho">
        </div>

        <div class="box" data-value="13">
            <img src="img/mlhrtumb.jpg" alt="melhor tumb">
        </div>
        
        <div class="box" data-value="13">
            <img src="img/mlhrtumb.jpg" alt="melhor tumb">
        </div>

        <div class="box" data-value="14">
            <img src="img/cr7sarrando.jpg" alt="papai cris fznd o sabe de melhor">
        </div>

        <div class="box" data-value="14">
            <img src="img/cr7sarrando.jpg" alt="papai cris fznd o sabe de melhor">
        </div>

        <div class="box" data-value="15">
            <img src="img/beijinho.jpg" alt="beijinho no ombro">
        </div>
        
        <div class="box" data-value="15">
            <img src="img/beijinho.jpg" alt="beijinho no ombro">
        </div>

        <div class="box" data-value="16">
            <img src="img/bumbumguloso.jpg" alt="bundinha grande">
        </div>

        <div class="box" data-value="16">
            <img src="img/bumbumguloso.jpg" alt="bundinha grande">
        </div>
    </div>
    <script>
         document.addEventListener('DOMContentLoaded', () => {
            let firstCard = null;
            let secondCard = null;
            let lock = false;

            const boxes = Array.from(document.querySelectorAll('.box'));

            function shuffle(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
            }

            function launchConfetti() {
                confetti({
                    particleCount: 100,
                    spread: 70,
                    origin: { y: 0.6 }
                });

                const duration = 10 * 1000;
                const end = Date.now() + duration;

                (function frame() {
                    confetti({
                        particleCount: 2,
                        angle: 60,
                        spread: 55,
                        origin: { x: 0 }
                    });
                    confetti({
                        particleCount: 2,
                        angle: 120,
                        spread: 55,
                        origin: { x: 1 }
                    });

                    if (Date.now() < end) {
                        requestAnimationFrame(frame);
                    }
                })();
            }

            function checkAllMatched() {
                if (boxes.every(box => box.classList.contains('matched'))) {
                    launchConfetti();
                }
            }

            shuffle(boxes);
            const container = document.querySelector('.container');
            boxes.forEach(box => container.appendChild(box));

            boxes.forEach(box => {
                box.classList.add('hidden');
                box.addEventListener('click', () => {
                    if (lock || box === firstCard || box.classList.contains('matched')) return;

                    box.classList.remove('hidden');

                    if (!firstCard) {
                        firstCard = box;
                    } else {
                        secondCard = box;
                        lock = true;

                        if (firstCard.dataset.value === secondCard.dataset.value) {
                            firstCard.classList.add('matched');
                            secondCard.classList.add('matched');
                            resetCards();
                            checkAllMatched();
                        } else {
                            setTimeout(() => {
                                firstCard.classList.add('hidden');
                                secondCard.classList.add('hidden');
                                resetCards();
                            }, 1000);
                        }
                    }
                });
            });

            function resetCards() {
                firstCard = null;
                secondCard = null;
                lock = false;
            }
        });
    </script>
</body>

</html>
